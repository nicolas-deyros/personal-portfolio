---
import { getEntryBySlug } from 'astro:content'
import Container from '../../components/Container.astro'
// 1. Get the slug from the incoming server request
const { slug } = Astro.params
// 2. Query for the entry directly using the request slug
const entry = await getEntryBySlug('blog', slug)
// 3. (Optional) render the entry to HTML in the template
const { Content } = await entry.render()
---

<Container>
	<article>
		<img
			width={720}
			height={360}
			src={entry.data.heroImage.src}
			alt={entry.data.heroImage.alt}
		/>

		<h1 class="title">{entry.data.title}</h1>
		{entry.data.publishDate && <time>{entry.data.publishDate}</time>}
		{
			entry.data.updatedDate && (
				<div>
					Last updated on <time>{entry.data.updatedDate}</time>
				</div>
			)
		}
		<hr />
		<Content />
	</article>
</Container>
